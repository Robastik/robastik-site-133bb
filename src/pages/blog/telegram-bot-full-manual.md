---
title: Запускаем своего Телеграм-бота для поиска объектов на Авито и ЦИАН
subtitle: >-
  Без программирования, используя только свой компьютер и Excel
sections:
  - section_id: call-to-action
    type: section_cta
    title: Поиск объектов на Авито и ЦИАН
    subtitle: Самые свежие объявления в Телеграме
    actions:
      - label: Скачать Робастик
        url: >-
          https://github.com/Robastik/Robastik/releases/latest/download/Robastik.for.Excel.64-bit.zip
        style: secondary
excerpt: >-
  Запускаем автоматический поиск объектов недвижимости в режиме онлайн на своем компьютере в Excel самостоятельно без программирования. Поиск объявлений по телефону, адресу, продавцу и любому другому условию, данные для которого есть в объявлении или его можно посчитать в Excel.
author: src/data/authors/jane-doe.yaml
date: '2023-09-28'
thumb_image: images/telegram-bot-full-manual/blog-list-telegram-bot.png
thumb_image_alt: Автоматический парсинг объявлений Авито ЦИАН для отправки найденных объектов в Телеграм бот
image: images/telegram-bot-full-manual/main-post-picture-paper-airplane.png
image_alt: Телеграм бот для поиска по объявлениям Авито ЦИАН круглосуточно
template: postVideoCTA
meta_title: Бот для поиска по объявлениям Авито и ЦИАН
meta_description: >-
  Запускайте Телеграм-бота на своем компьютере в Excel для круглосуточной доставки самых свежих объявлений о продаже квартир и других объектов недвижимости на Авито, ЦИАН и других досках объявлений
youtube: https://www.youtube.com/embed/tc4F1L-X7n0
part1: >-
  Робастик создан для того, чтобы постоянно просматривать все объявления для поиска подходящих объектов и при появлении нужного объявления отправлять его вам в Телеграм. Он не пропустит ни одного объявления, потому что просто просматривает их все по кругу от первого до последнего круглые сутки до тех пор, пока вы его не остановите. Даже «всплывшие» на десятой странице скрытые до этого объявления не будут пропущены. А самые свежие объявления о продаже квартир и других объектов недвижимости на Авито, ЦИАН и других сайтах объявленый будут в вашем Телеграме в первую очередь.


  Чтобы самостоятельно запустить автоматический поиск объектов недвижимости в режиме реального времени 24/7 не нужно программировать. Достаточно иметь обычный компьютер с Excel и установленным Робастиком.


  Разберем весь процесс поиска объектов на Авито и других сайтах недвижимости с отправкой уведомлений в Телеграм с самого начала →


  ## 1 Фильтруем объявления на сайте объявлений

  Первый этап поиска -- фильтры на сайте.


  **На Авито** любым способом выбираем в фильтрах необходимые условия:


  ![Фильтр для поиска объявлений на Авито](/images/telegram-bot-full-manual/Avito_Filter.PNG)


  Получаем ссылку примерно такого вида:


  ``https://www.avito.ru/mineralnye_vody/kvartiry/prodam-ASgBAgICAUSSA8YQ?context=H4sIAAAAAAAA_0q0MrSqLraysFJKK8rPDUhMT1WyLrYyNLNSKk5NLErOcMsvyg3PTElPLVGyrgUEAAD__xf8iH4tAAAA&f=ASgBAQICAUSSA8YQAUDKCCT~WIBZ``


  Можно выбрать все новостройки:


  ![Найти самые свежие новостройки Авито ЦИАН](/images/telegram-bot-full-manual/Avito_Novostroyki.PNG)


  Тогда ссылка будет короче:
  

  ``https://www.avito.ru/mineralnye_vody/kvartiry/prodam/novostroyka-ASgBAQICAUSSA8YQAUDmBxSOUg?cd=1``


  Ссылка находится в браузере в адресной строке (ссылка выделена):


  ![поиск объектов недвижимости в режиме онлайн](/images/telegram-bot-full-manual/Avito_Link.PNG)


  Чтобы скопировать ссылку нужно установить курсор мышкой в адресную строку, нажать одновременно клавиши Ctrl + A(Ф) для выделения всей
  ссылки полностью и затем нажать одновременно Ctrl + C для копирования выделенной ссылки в буфер обмена.


  **В ЦИАНе** порядок аналогичный. В фильтре выбираем необходимые параметры:


  ![циан авито поиск объявлений](/images/telegram-bot-full-manual/CIAN_Filter.PNG)


  И в адресной строке получаем ссылку примерно такого вида:


  ``https://yakutsk.cian.ru/cat.php?deal_type=sale&engine_version=2&kitchen_stove=gas&min_ceiling_height=3&minsu_s=1&offer_type=flat&region=5073&room1=1&room2=1&room_type=2``


  Полученную ссылку копируем для вставки в парсер Робастика с помощью Ctrl+A и Ctrl+C.


  ## 2 Проверяем работу парсера

  В этот момент у нас уже скопирована в браузере нужная нам ссылка. Сейчас добавим ее в парсер Робастика и проверим ее работоспособность.


  Для этого в меню Робастика нажимаем **Добавить ссылку**:


  ![самые свежие объявления о продаже квартир вторичка](/images/telegram-bot-full-manual/Add_Link.PNG)


  В открывшемся окне кликаем курсором мышки и наживаем одновременно Ctrl + V(М):


  ![самые свежие объявления +о продаже квартир авито](/images/telegram-bot-full-manual/Insert_Link.PNG)


  Нажимаем **ОК**, в открывшемся диалоге выбираем (пустой) файл .xlsx для сохранения объявлений и в меню Робастика видим добавленную ссылку:


  ![договор поиска объекта недвижимости](/images/telegram-bot-full-manual/Link_Added.PNG)


  В таком виде ссылка сохранилась в настройках Робастика и при следующем открытии Excel она уже будет готова к загрузке, повторно вставлять ее каждый раз не нужно. Другой способ добавления ссылки для парсинга Авито и ЦИАН описан в **Руководстве пользователя** (в комплекте с установочным файлом Робастика).


  Для начала загрузки объявлений нажимаем **Старт**, после чего начинается отсчет времени работы парсера:


  ![менеджер по поиску объектов недвижимости](/images/telegram-bot-full-manual/Parsing_Started.PNG)


  Парсер изображает работу человека: вставляет ссылку с фильтрами в браузер, открывает список объявлений, выбирает одно и открывает его,
  затем следующее и т.д. Весь процесс можно наблюдать в окне встроенного в Excel браузера: для этого надо надо открыть вкладку с загружаемыми
  данными и нажать кнопку **Браузер**. Повторное нажатие кнопки закроет встроенный браузер.


  Если парсер будет скачивать объявления слишком быстро, это помешает работе сайта недвижимости и он активирует защиту против ботов. Парсить
  сайт со включенной защитой значительно сложнее и дороже. Скорость скачивания можно менять в настройках парсера, но увлекаться скоростью не
  стоит, так как в работе с недвижимостью лишний час обычно ничего не решает.


  Через минуту после старта парсинга будут загружены первые объявления. Данные из объявлений сохраняются на лист Excel:


  ![без риелтора](/images/telegram-bot-full-manual/FirstAds.PNG)


  Названия колонок могут отличаться в разных парсерах и иногда меняться. В выключенном парсере колонки можно менять местами в любом порядке.


  Проверка работоспособности скопированной ссылки на этом завершена.


  Если появились все необходимые колонки с данными, то файл нужно сохранить, т.к. названия колонок понадобятся для дополнительных условий
  отбора объявлений. Если нет, то нужно подождать загрузку объявлений с необходимыми данными, для которых будут добавлены новые колонки с
  названиями.


  ## 3 Включаем режим поиска объявлений по условиям

  По умолчанию парсер Робастика запускается в режиме сбора данных. Для включения режима отслеживания объявлений нужных объектов переходим в
  настройки Робастика: **Надстройки → Настройки → Парсер → Отправлять по условию →** кликнуть мышкой на ползунке, чтобы он позеленел и
  передвинулся вправо:
  
  
  ![агентство недвижимости](/images/telegram-bot-full-manual/Bot_Feature_Turn_On.PNG)
  

  Здесь надо указать свой ник в Телеграме, на который будут отправляться объявления. Можно указывать ник со знаком @ или без него, это не имеет значения. Далее нажимаем **ОК**, ждем загрузку компонентов, следуем инструкциям на экране и закрываем все окна Excel для его перезагрузки.


  ## 4 Стартуем бота в Телеграме

  Находим бота **Robastik** в телеграме:


  ![базы недвижимости которыми пользуются риэлторы](/images/telegram-bot-full-manual/Find_Bot.PNG)


  Стартуем его:


  ![приложение для поиска квартир через бота](/images/telegram-bot-full-manual/Bot_Started.PNG)

  ## 5 Условия для поиска объявлений

  Работа Робастика в режиме поиска объявлений на Авито и ЦИАН отличается от режима сохранения данных:

  - вторая строка (сразу под названиями столбцов) служит для дополнительных условий и дополнительной информации;

  - третья строка заполняется данными очередного объявления, чтобы расположенные во второй строке формулы могли использовать данные объявлений для расчета;

  - загруженные объявления вставляются в четвертую строку и с этой позиции постепенно опускаются вниз по мере добавления новых объявлений.

  
  То есть объявление одновременно сохраняется в третью и в четвертую строку, но в третьей строке его данные будут заменены на данные следующего объявления, а четвертая строка станет пятой после добавления строки в четвертую позицию для следующего объявления.


  ### 5.1 Строка условий

  Ячейка **А2** в режиме поиска всегда используется для вычисления условия для отправки объявлений в Телеграм. На это правило не влияет название колонки **А** в первой строке.

  ### Пример 1 Простое условие

  Если необходимо отправлять в Телеграм все загруженные по ссылке объявления, в ячейке **А2** достаточно указать значение ИСТИНА (или TRUE в английской локали):


  ![купить квартиру](/images/telegram-bot-full-manual/True_Simple.PNG)


  В этом случае никаких дополнительных условий для выбора объявлений не используется. Какие фильтры были в ссылке с сайта объявлений, такие объекты и будут отправлены в Телеграм без дополнительного отбора.

  ### Пример 2 Одиночный критерий

  Для выбора объявлений по одному критерию формулу для критерия удобно поместить в ячейку **А2**:


  ![снять квартиру](/images/telegram-bot-full-manual/Simple_Field.PNG)


  В этом примере в строке формул указана формула для проверки значения в ячейке **В3**. В колонке **В** в первой строке указано название **ВидИзОкна**. Для каждого очередного загруженного объявления значение
  параметра **ВидИзОкна** будет загружаться в ячейку **В3** для проверки условия поиска (строка **3** служит для проверки критерия поиска и в колонке **В** находится нужный критерий).


  Если название **ВидИзОкна** будет находиться в колонке **С**, то проверять значение этого критерия надо будет в ячейке **С3**.


  Для проверки конкретного значения критерия поиска используется оператор **=**. В данном случае для нахождения помещений с видом на улицу используется формула **В3="street"**. Если в ячейке **B3** находится
  значение **street**, то выражение **В3="street"** истинно и результат этого выражения отображается в ячейке **А2**.


  Для выбора всех помещений, кроме имеющих вид на улицу, можно использовать оператор **\<\>** (не равно). Выражение **В3\<\>"street"** отправит в Телеграм все объявления, в которых не указан вид на улицу.

  ### Пример 3 Несколько критериев

  Отберем помещения по двум критериям: 1) с более чем одним пассажирским лифтом и 2) с видом на улицу.


  В случае нескольких критериев удобно вычислять их в своих колонках, а в ячейке **A2** складывать значения критериев из разных колонок.


  ![квартира на длительный срок](/images/telegram-bot-full-manual/Two_Criteries.PNG)


  В ячейке **В2** проверяем указанный в ячейке **В3** вид из окна. В ячейке **С2** проверяем указанное в ячейке **С3** количество пассажирских лифтов. В ячейке **А2** вычисляем с помощью функции [**И()**](https://support.microsoft.com/ru-ru/office/%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F-%D0%B8-5f19b2e8-e1df-4408-897a-ce285a19e9d9)
  выполнение **и** первого, **и** второго условия.


  Вычисление формул даст в этом примере следующие значения:


  ![снять квартиру длительно](/images/telegram-bot-full-manual/Two_Parameters_Value.PNG)


  Можно использовать любое количество критериев для поиска объявлений, а не только два (как в этом примере).


  Вместо функции **И()** можно использовать функцию [**ИЛИ()**](https://support.microsoft.com/ru-ru/office/%D0%B8%D0%BB%D0%B8-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F-%D0%B8%D0%BB%D0%B8-7d17ad14-8700-4281-b308-00b131e22af0) для поиска объявлений, которые соответствуют хотя бы одному критерию (а не всем одновременно). Функции **И()** и **ИЛИ()** можно комбинировать для составления сложных алгоритмов поиска объявлений.


  ## 6 Запускаем поиск объявлений

  В этот момент у нас:

  1. добавлена ссылка для парсинга (любым способом),

  2. определен файл .xlsx для сохранения загруженных объявлений,

  3. получены названия колонок для записи объявлений,

  4. составлено условие поиска объявлений в ячейке **А2**,

  5. в настройках:

    5.1. включены нужные парсеры,

    5.2. включен режим поиска объявлений и

    5.3. указан ник в Телеграме для отправки ему объявлений,

  6. набрали **/start** в Телеграме для подписки на бота **Robаstik**.

  
  Теперь для запуска поиска объявлений осталось нажать **Старт** в меню Робастика:


  ![купить частный дом](/images/telegram-bot-full-manual/Start_Find.PNG)


  Начнется загрузка объявлений. Каждое загруженное объявление будет записываться в третью строку для проверки условий поиска и в четвертую строку для проверки в последующем, что это объявление уже было загружено
  и проверено.


  Если результат формулы в ячейке **А2** показывает **ИСТИНА**, то четвертая строка с объявлением выделяется цветом и ссылка на него отправляется в Телеграм. Этот процесс показан на видео:

canonical_url: 'blog/telegram-bot-full-manual/'
---
На каждом круге просмотра объявлений парсер Робастика сравнивает номер
очередного объявления с номерами сохраненных в файл .xlsx, которые были
загружены раньше. Если номер объявления найден в сохраненных ранее, оно
не сохраняется повторно, не проверяется на условия поиска и не
отправляется в Телеграм.


После завершения каждого круга просмотра объявлений парсер делает
перерыв на один час.

## 7 Дополнительный текст уведомления в Телеграм

Ячейка **В2** в режиме поиска всегда используется для формирования
сообщения, отправляемого вместе со ссылкой на объявление.

### Пример 1

Добавим в текст сообщения время его отправки.


![как отслеживать объявления на авито](/images/telegram-bot-full-manual/Send_Time.PNG)


Для этого в ячейку В2 добавляем формулу **=[ТДАТА()](https://support.microsoft.com/ru-ru/office/%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D1%8F-%D1%82%D0%B4%D0%B0%D1%82%D0%B0-3337fd29-145a-4347-b2e6-20c904739c46)**.

В Телеграме сообщение со временем отправки будет выглядеть так:

![купить квартиру без посредников](/images/telegram-bot-full-manual/Screenshot_Send_Time.PNG)

### Пример 2

Добавим в сообщение указанный в объявлении номер телефона.

![купить квартиру](/images/telegram-bot-full-manual/Send_Phone.PNG)

Сам номер телефона находится в ячейке **F3**, а остальная часть формулы
превращает его в ссылку. Если тапнуть пальцем в Телеграме по такой
ссылке с номером телефона, откроются приложения для его использования и
можно будет сразу звонить -- номер наберется сам в приложении для
звонков:

![самые свежие объявления](/images/telegram-bot-full-manual/Screenshot_Send_Phone.PNG)

  ### Техподдержка

  Вопросы по использованию Робастика можно обсудить здесь:
  - [Фейсбук](https://www.facebook.com/groups/excelword/)
  - [ВКонтакте](https://vk.com/exceltoword)
  - [Телеграм](https://t.me/RobastikRu)
  - [Дзен](https://zen.yandex.ru/robastik)
  - [Аппрайзер](http://appraiser.ru/default.aspx?SectionId=32&g=posts&t=14905)
  - [Ватсап](https://wa.me/message/YRGCZNRS7UEAM1)
  - [Ютуб](https://youtu.be/wAaUBo_rXaQ) Видеоинструкция
  - [Ношн](https://wiggly-albatross-82f.notion.site/ebc43e94f3284cbab017c841b37ce881) Вики Робастика
  - [Email](mailto:tech@robastik.ru) по вопросам техподдержки
